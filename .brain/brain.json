{
    "meta": {
        "schema_version": "1.1.0",
        "awf_version": "3.3.0"
    },
    "project": {
        "name": "CostCal - Tính Giá Nhanh",
        "type": "Web App (Mobile-first)",
        "status": "Live on Vercel (v1.0)"
    },
    "tech_stack": {
        "frontend": "Vanilla JS, CSS3, Vite",
        "tooling": "Vite v7",
        "deployment": "Vercel (Static)"
    },
    "business_rules": [
        {
            "rule": "Lợi nhuận mục tiêu",
            "value": "Mặc định 30% trên giá vốn",
            "explained": "Sử dụng công thức tính giá bán dựa trên tỷ lệ lợi nhuận mong muốn sau khi trừ mọi chi phí."
        },
        {
            "rule": "Làm tròn tiền",
            "value": "Lên 500đ gần nhất",
            "explained": "Đảm bảo giá bán thực tế luôn cao hơn hoặc bằng giá tính toán để bảo vệ biên lợi nhuận."
        },
        {
            "rule": "Ràng buộc giảm giá",
            "value": "Chỉ áp dụng Grab/Shopee",
            "explained": "Tự động tắt và khóa chức năng giảm giá khi chọn Tại Quán để tránh sai sót."
        },
        {
            "rule": "Nút xóa nhanh",
            "value": "✕ trong ô Giá vốn",
            "explained": "Xuất hiện khi có dữ liệu, giúp người dùng xóa nhanh giá trị cũ bằng 1 chạm."
        }
    ],
    "pricing_formula": {
        "store": "Price = (Cost + Packaging) / (1 - (Profit% + Tax% + Risk%) - Discount%)",
        "marketplace": "Price = (Cost + Packaging) / (1 - (Fee% + Profit% + Tax% + Risk%) - Discount%)"
    },
    "knowledge_items": {
        "gotchas": [
            {
                "issue": "Vietnamese Number Format",
                "fix": "Remove dot (.) as thousand separator before parseFloat in JS.",
                "file": "src/js/utils.js"
            },
            {
                "issue": "Visible GA4 ID",
                "fix": "GA4 Measurement ID is public by design. Use filters in GA Admin to prevent data pollution if needed.",
                "file": "index.html"
            }
        ],
        "conventions": [
            "Mobile-first design optimized for iPhone 11 viewport.",
            "Large UI elements for low-tech/elderly usability."
        ]
    }
}